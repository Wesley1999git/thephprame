# Apache virtual host configuration for thephprame
# Adjust `ServerName` and PHP-FPM socket path as needed for your environment.
<VirtualHost *:80>
    ServerName localhost
    DocumentRoot /var/www/html/Public

    <Directory /var/www/html>
        Require all granted
        AllowOverride All
        Options Indexes FollowSymLinks
    </Directory>

    <Directory /var/www/html/Public>
        Require all granted
        AllowOverride All
        Options Indexes FollowSymLinks
    </Directory>

    DirectoryIndex index.php index.html

    ErrorLog ${APACHE_LOG_DIR}/thephprame_error.log
    CustomLog ${APACHE_LOG_DIR}/thephprame_access.log combined

    # Using the php:*-apache image (mod_php) â€” do not proxy to PHP-FPM.
    # Remove the proxy_fcgi handler to avoid AH01079 when php-fpm is not running.

    # Front controller: route non-file requests to index.php
    <IfModule mod_rewrite.c>
        RewriteEngine On
        RewriteCond %{REQUEST_FILENAME} !-f
        RewriteRule ^ index.php [L]
    </IfModule>

    # Recommended: disable server signature exposure
    ServerSignature Off
</VirtualHost>

# Notes:
# - Replace example.local with your local hostname or remove the ServerName line.
# - Ensure `mod_proxy_fcgi` and `mod_rewrite` are enabled.
# - If running in Docker, map your project into /var/www/html and update socket path accordingly.